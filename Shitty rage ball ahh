--// Load Rayfield
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "Rapture Hub",
    LoadingTitle = "Rapture Hub",
    LoadingSubtitle = "by Rapture and West",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = nil,
        FileName = "RaptureHubConfig"
    },
})

local player = game.Players.LocalPlayer
local uis = game:GetService("UserInputService")
local runService = game:GetService("RunService")

local autoBlockEnabled = false
local blockCooldown = false
local blockDistance = 35 -- You can adjust if needed

-- Toggle
Window:CreateToggle({
    Name = "Auto Block",
    CurrentValue = false,
    Flag = "AutoBlockToggle",
    Callback = function(value)
        autoBlockEnabled = value
    end,
})

-- Function to check if ball is near and targeting player
local function shouldBlock(ball)
    if not ball or not ball.Position or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then
        return false
    end

    local hrp = player.Character.HumanoidRootPart
    local distance = (ball.Position - hrp.Position).Magnitude
    return distance <= blockDistance
end

-- Main loop
runService.RenderStepped:Connect(function()
    if autoBlockEnabled and not blockCooldown then
        local ball = workspace:FindFirstChild("Ball")
        if ball and shouldBlock(ball) then
            blockCooldown = true
            uis.InputBegan:Fire(uis, Enum.KeyCode.F)
            
            -- Add cooldown to avoid double tapping
            task.wait(0.5) -- Adjust wait time if needed
            blockCooldown = false
        end
    end
end)
